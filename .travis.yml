language: go

go:
  - 1.2
  - 1.3
  - 1.4
  - release

install:
  - sudo apt-get update
  - sudo apt-get install -y ghc6 ghc6-prof ghc6-doc cabal-install
  - cabal update
  - cabal install shellcheck
  - sudo ln ~/.cabal/bin/shellcheck /usr/bin/shellcheck
  - go get github.com/golang/lint/golint
  - go get github.com/fzipp/gocyclo
  - go get code.google.com/p/go.tools/cmd/vet || go get golang.org/x/tools/cmd/vet
  - go get github.com/stretchr/testify/mock
  - go get code.google.com/p/go.tools/cmd/cover || go get golang.org/x/tools/cmd/cover
  - gem install mdl
  - go get -d -v ./... && go build -v ./...

script:
  - export PATH=$HOME/gopath/bin:$PATH
  - ./travis_check.sh
